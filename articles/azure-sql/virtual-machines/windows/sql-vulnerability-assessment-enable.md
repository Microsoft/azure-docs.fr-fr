---
title: Évaluation des vulnérabilités SQL pour SQL Server sur les machines virtuelles Azure
description: Décrit l’évaluation des vulnérabilités SQL pour les bases de données SQL Server s’exécutant sur des machines virtuelles Azure.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 817203b8e795ce15c8c48c18bc7b9a46217dc93a
ms.sourcegitcommit: dfc4e6b57b2cb87dbcce5562945678e76d3ac7b6
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/12/2020
ms.locfileid: "97356708"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Évaluation des vulnérabilités SQL pour SQL Server sur les machines virtuelles Azure
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

Évaluation des vulnérabilités (VA) SQL est un service simple à configurer qui découvre, assure le suivi et vous aide à corriger les vulnérabilités de base de données potentielles. Utilisez-le pour améliorer de façon proactive la sécurité de votre base de données pour votre SQL Server sur des machines virtuelles Azure. 

L’évaluation des vulnérabilités (VA) fait partie de l’offre [Azure Defender pour SQL](../../database/azure-defender-for-sql.md), qui est un package unifié pour les fonctionnalités avancées de sécurité SQL. L’évaluation des vulnérabilités est accessible et gérée par le biais du portail central Azure Defender pour SQL oi via Azure Security Center. 

## <a name="overview"></a>Vue d’ensemble

Évaluation des vulnérabilités (VA) SQL est un service qui offre une visibilité de votre état de sécurité. Évaluation des vulnérabilités comprend des étapes actionnables pour résoudre les problèmes de sécurité et améliorer la sécurité de votre base de données. Elle peut vous aider à : 

- Répondre aux exigences de conformité qui nécessitent des rapports d’analyse de la base de données. 
- Répondre aux normes de protection des données personnelles. 
- Effectuer le monitoring d’un environnement de base de données dynamique, dans lequel les modifications sont difficiles à suivre. 

Évaluation des vulnérabilités est un service d’analyse qui utilise une base de connaissances de règles qui signalent les failles de sécurité. Il met en évidence les écarts par rapport aux bonnes pratiques, comme les configurations incorrectes, les autorisations excessives et les données sensibles non protégées. 

Les règles sont basées sur les bonnes pratiques de Microsoft et axées sur les problèmes de sécurité qui présentent des risques majeurs pour votre base de données et ses précieuses données. Elles couvrent les problèmes au niveau de la base de données et les problèmes de sécurité au niveau du serveur, comme les paramètres de pare-feu de serveur et les autorisations au niveau du serveur. Elles représentent également la plupart des exigences des différentes instances réglementaires, visant au respect de leurs normes de conformité. 

Les résultats de l’analyse sont accompagnés d’étapes actionnables pour résoudre chaque problème et, le cas échéant, de scripts de correction personnalisés. Vous pouvez personnaliser un rapport d’évaluation pour votre environnement en définissant une base de référence acceptable pour : 

- Configurations d’autorisations 
- Configurations de fonctionnalités 
- Paramètres de base de données 

## <a name="enable-sql-va"></a>Activer VA SQL

Activez Azure Defender pour les serveurs SQL Server sur les machines afin d’implémenter l’évaluation des vulnérabilités. 

Pour utiliser Azure Defender pour SQL Server, procédez comme suit :

1. [Installer l’extension Agent IaaS SQL](sql-agent-extension-manually-register-single-vm.md)
1. [Activer le provisionnement automatique de l’agent Log Analytics](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma)
1. [Activer le plan Security Center facultatif](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page)

Étant donné que l’évaluation des vulnérabilités fait partie d’Azure Defender pour SQL, une fois qu’Azure Defender est activé sur votre machine virtuelle, vos bases de données sont automatiquement analysées toutes les 12 heures pour identifier les vulnérabilités de sécurité. Les résultats sont envoyés à Azure Security Center pour une vue agrégée centralisée du patrimoine de données SQL protégé par Azure Defender pour SQL. 

> [!NOTE]
> L’analyse est légère, sûre et ne prend que quelques secondes par base de données et elle est entièrement en lecture seule. Elle n’apporte aucune modification à la base de données. 

## <a name="view-report"></a>Afficher le rapport

Le rapport de la base de données présente une vue d’ensemble de votre état de sécurité. Il indique combien de problèmes ont été détectés et leurs gravités respectives. Parmi les résultats figurent des avertissements sur les écarts par rapport aux bonnes pratiques, ainsi qu’une capture des paramètres de sécurité, tels que les rôles et principaux de base de données et les autorisations associées.  

Pour afficher le rapport, procédez comme suit :

1. Accédez à [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) dans le portail Azure.
1. Sélectionnez **Recommandations** dans le menu **Général** : 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Accéder à Recommandations sous Paramètres dans Azure Security Center sur le portail Azure":::

1. Faites défiler jusqu’aux recommandations, puis développez **Corriger les vulnérabilités**.
1. Choisissez **Les résultats de l’évaluation des vulnérabilités de vos serveurs SQL sur des machines doivent être corrigés**. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Afficher le rapport dans le panneau Recommandation d’Azure Security Center":::

Cette page affiche un agrégat des failles de sécurité identifiées pour toutes les machines virtuelles SQL Server de l’abonnement. 


## <a name="analyze-results"></a>Analyser les résultats

Passez en revue vos résultats et identifiez ceux qui constituent de véritables problèmes de sécurité dans votre environnement. Explorez chaque résultat ayant entraîné un échec pour comprendre son impact et pourquoi chaque vérification de sécurité a échoué.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="Passez en revue vos résultats et identifiez ceux qui constituent de véritables problèmes de sécurité dans votre environnement.":::

## <a name="set-baseline"></a>Définir la planification initiale 

Quand vous examinez les résultats de votre évaluation, vous pouvez marquer certains résultats comme base de référence acceptable dans votre environnement. La ligne de base est en somme une personnalisation du signalement des résultats. Les résultats correspondant à la ligne de base seront considérés comme corrects lors des analyses ultérieures. Une fois que vous avez établi votre état de sécurité de base, Évaluation des vulnérabilités signale uniquement les écarts par rapport à la base de référence. Ainsi, vous pouvez vous concentrer sur les problèmes pertinents. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="Quand vous examinez les résultats de votre évaluation, vous pouvez marquer certains résultats comme base de référence acceptable dans votre environnement.":::

## <a name="export-results"></a>Exporter les résultats

Utilisez la fonctionnalité [Exportation continue](../../../security-center/continuous-export.md) d’Azure Security Center pour exporter les résultats de l’évaluation des vulnérabilités vers Azure Event Hub ou un espace de travail Log Analytics. 


## <a name="next-steps"></a>Étapes suivantes

Pour plus d’informations, consultez [Évaluation des vulnérabilités SQL dans Azure SQL](../../database/sql-vulnerability-assessment.md) et [Protection de vos données SQL à l’aide d’Azure Security Center](../../../security-center/security-center-introduction.md).

